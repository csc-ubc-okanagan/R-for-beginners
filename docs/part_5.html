<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Loading Data</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R for Beginners</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="part_1.html">R &amp; RStudio</a>
</li>
<li>
  <a href="part_2.html">Data Types</a>
</li>
<li>
  <a href="part_3.html">Functions &amp; Variables</a>
</li>
<li>
  <a href="part_4.html">Getting Help</a>
</li>
<li>
  <a href="part_5.html">Loading Data</a>
</li>
<li>
  <a href="part_6.html">Adding &amp; Naming Variables</a>
</li>
<li>
  <a href="part_7.html">Subsetting</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Loading Data</h1>

</div>


<p>We’re going to work with a (hopefully) fun data set today, which
we’ll download and then import.</p>
<p>First things first, we’ll use R to set up a place for us to work.
We’ll begin by creating a directory on our desktop</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&quot;~/Desktop/r-for-beginners&quot;</span>) <span class="co"># create a project directory</span></span></code></pre></div>
<div class="note">
<p>Most systems - MacOS, Windows, Linux - will set your home directory
to your user directory. The tilde <code>~</code> is shorthand for your
user directory. If your home directory is not your user directory, the
above will not work.</p>
</div>
<p>We’ll then make sure that our current session is working with the
files in this folder.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;~/Desktop/r-for-beginners&quot;</span>) <span class="co"># set the working directory to the direcotry we just created</span></span></code></pre></div>
<p>And then we’ll download our data</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>data_src <span class="ot">&lt;-</span> <span class="st">&quot;https://raw.githubusercontent.com/csc-ubc-okanagan/R-for-beginners/main/files/2018-cp_squirrel_census.csv&quot;</span> <span class="co"># define the source of our data, in this case, a url</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="at">url =</span> data_src, <span class="at">destfile =</span> <span class="st">&#39;2018-cp_squirrel_census.csv&#39;</span>) <span class="co"># download the file, and save it with a specified name</span></span></code></pre></div>
<p>Now that our data is downloaded and we have a local copy, we’ll pull
it into R</p>
<p>We can simply import the data and display it to our console</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read.csv</span>(<span class="st">&#39;2018-cp_squirrel_census.csv&#39;</span>) <span class="co"># read the data</span></span></code></pre></div>
<p>But this isn’t terribly useful. We want to store this data in memory,
so we’ll load it into a variable</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>sq_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&#39;2018-cp_squirrel_census.csv&#39;</span>) <span class="co"># read the data into a variable called sq_data</span></span></code></pre></div>
<p>We can now explore the data, looking at the data types and data
structures R is defaulting to when importing this csv file</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sq_data) <span class="co"># explore the structure of the data set.</span></span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3023 obs. of  31 variables:
##  $ X                                         : num  -74 -74 -74 -74 -74 ...
##  $ Y                                         : num  40.8 40.8 40.8 40.8 40.8 ...
##  $ Unique.Squirrel.ID                        : chr  &quot;37F-PM-1014-03&quot; &quot;21B-AM-1019-04&quot; &quot;11B-PM-1014-08&quot; &quot;32E-PM-1017-14&quot; ...
##  $ Hectare                                   : chr  &quot;37F&quot; &quot;21B&quot; &quot;11B&quot; &quot;32E&quot; ...
##  $ Shift                                     : chr  &quot;PM&quot; &quot;AM&quot; &quot;PM&quot; &quot;PM&quot; ...
##  $ Date                                      : int  10142018 10192018 10142018 10172018 10172018 10102018 10102018 10082018 10062018 10102018 ...
##  $ Hectare.Squirrel.Number                   : int  3 4 8 14 5 3 2 2 1 3 ...
##  $ Age                                       : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;Adult&quot; ...
##  $ Primary.Fur.Color                         : chr  &quot;&quot; &quot;&quot; &quot;Gray&quot; &quot;Gray&quot; ...
##  $ Highlight.Fur.Color                       : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ Combination.of.Primary.and.Highlight.Color: chr  &quot;+&quot; &quot;+&quot; &quot;Gray+&quot; &quot;Gray+&quot; ...
##  $ Color.notes                               : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;Nothing selected as Primary. Gray selected as Highlights. Made executive adjustments.&quot; ...
##  $ Location                                  : chr  &quot;&quot; &quot;&quot; &quot;Above Ground&quot; &quot;&quot; ...
##  $ Above.Ground.Sighter.Measurement          : int  NA NA 10 NA NA NA 0 0 0 30 ...
##  $ Specific.Location                         : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ Running                                   : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Chasing                                   : logi  FALSE FALSE TRUE FALSE FALSE FALSE ...
##  $ Climbing                                  : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Eating                                    : logi  FALSE FALSE FALSE TRUE FALSE FALSE ...
##  $ Foraging                                  : logi  FALSE FALSE FALSE TRUE TRUE TRUE ...
##  $ Other.Activities                          : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ Kuks                                      : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Quaas                                     : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Moans                                     : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Tail.flags                                : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Tail.twitches                             : logi  FALSE FALSE FALSE FALSE FALSE TRUE ...
##  $ Approaches                                : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Indifferent                               : logi  FALSE FALSE FALSE FALSE FALSE TRUE ...
##  $ Runs.from                                 : logi  FALSE FALSE FALSE TRUE FALSE FALSE ...
##  $ Other.Interactions                        : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ Lat.Long                                  : chr  &quot;POINT (-73.9561344937861 40.7940823884086)&quot; &quot;POINT (-73.9688574691102 40.7837825208444)&quot; &quot;POINT (-73.97428114848522 40.775533619083)&quot; &quot;POINT (-73.9596413903948 40.7903128889029)&quot; ...</code></pre>
<p>We can get slightly better access to the data itself with
<code>View()</code></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(sq_data) <span class="co"># look at the data in a &#39;spreadsheet&#39; like format. Note the capital V.</span></span></code></pre></div>
<p>This output tells us that we’re working with a data frame, that there
are 3023 rows or observations, and 31 columns or variables. It then
lists all of the variables, tells us what data type they were
interpreted as on import, and show us the first six values of each
variable.</p>
<div id="missing-values" class="section level2">
<h2>Missing Values</h2>
<p>Before digging much deeper into the data set, one of the first things
we’ll note is that there are a lot of missing values. Missing values
need to be properly encoded to be programatically useful. An application
– or user – may represent missing values in many ways. Sometimes it’s by
using an out of range value, so when a variable is binary, and values
are represented as 0 or 1, 99 may be used to indicate a missing value.
Files exported from SPSS might be encoded with a period, <code>.</code>.
In Excel, it’s extremely easy for a user to accidentally introduce
spaces, <code></code>, in an otherwise empty cell, or they may choose to
write the characters <code>NA</code>. A data base export might include
either <code>NA</code> or <code>NULL</code>.</p>
<p>When exported, especially using a format like <code>csv</code>, all
of these notations for missing values are converted to character strings
or numbers. Ideally, when importing into a piece of software, like R, we
would have a way to provide a list of possible ways of encoding missing
values and standardize how these are presented.</p>
<p>In R, <code>NA</code> values are a specific way of indicating that a
value is missing. And <code>read.csv()</code> has a specific argument
for converting strings into <code>NA</code> encoded values on
import.</p>
<div class="exercise">
<p>Using the help documentation – <code>?read.csv</code> – see if you
can figure out how to update your data import –
<code>sq_data &lt;- read.csv('2018-cp_squirrel_census.csv')</code> – to
convert a list of strings to <code>NA</code> values.</p>
</div>
<div class="solution">
<div class="sourceCode" id="cb9"><pre
class="sourceCode r fold-hide"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>sq_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&#39;2018-cp_squirrel_census.csv&#39;</span>, <span class="at">na.strings =</span> <span class="fu">c</span>(<span class="st">&quot;&quot;</span>, <span class="st">&quot; &quot;</span>, <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;NULL&quot;</span>, <span class="st">&quot;.&quot;</span>, <span class="st">&quot;+&quot;</span>))</span></code></pre></div>
</div>
<p>Review the data structure again…</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sq_data)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3023 obs. of  31 variables:
##  $ X                                         : num  -74 -74 -74 -74 -74 ...
##  $ Y                                         : num  40.8 40.8 40.8 40.8 40.8 ...
##  $ Unique.Squirrel.ID                        : chr  &quot;37F-PM-1014-03&quot; &quot;21B-AM-1019-04&quot; &quot;11B-PM-1014-08&quot; &quot;32E-PM-1017-14&quot; ...
##  $ Hectare                                   : chr  &quot;37F&quot; &quot;21B&quot; &quot;11B&quot; &quot;32E&quot; ...
##  $ Shift                                     : chr  &quot;PM&quot; &quot;AM&quot; &quot;PM&quot; &quot;PM&quot; ...
##  $ Date                                      : int  10142018 10192018 10142018 10172018 10172018 10102018 10102018 10082018 10062018 10102018 ...
##  $ Hectare.Squirrel.Number                   : int  3 4 8 14 5 3 2 2 1 3 ...
##  $ Age                                       : chr  NA NA NA &quot;Adult&quot; ...
##  $ Primary.Fur.Color                         : chr  NA NA &quot;Gray&quot; &quot;Gray&quot; ...
##  $ Highlight.Fur.Color                       : chr  NA NA NA NA ...
##  $ Combination.of.Primary.and.Highlight.Color: chr  NA NA &quot;Gray+&quot; &quot;Gray+&quot; ...
##  $ Color.notes                               : chr  NA NA NA &quot;Nothing selected as Primary. Gray selected as Highlights. Made executive adjustments.&quot; ...
##  $ Location                                  : chr  NA NA &quot;Above Ground&quot; NA ...
##  $ Above.Ground.Sighter.Measurement          : int  NA NA 10 NA NA NA 0 0 0 30 ...
##  $ Specific.Location                         : chr  NA NA NA NA ...
##  $ Running                                   : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Chasing                                   : logi  FALSE FALSE TRUE FALSE FALSE FALSE ...
##  $ Climbing                                  : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Eating                                    : logi  FALSE FALSE FALSE TRUE FALSE FALSE ...
##  $ Foraging                                  : logi  FALSE FALSE FALSE TRUE TRUE TRUE ...
##  $ Other.Activities                          : chr  NA NA NA NA ...
##  $ Kuks                                      : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Quaas                                     : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Moans                                     : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Tail.flags                                : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Tail.twitches                             : logi  FALSE FALSE FALSE FALSE FALSE TRUE ...
##  $ Approaches                                : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Indifferent                               : logi  FALSE FALSE FALSE FALSE FALSE TRUE ...
##  $ Runs.from                                 : logi  FALSE FALSE FALSE TRUE FALSE FALSE ...
##  $ Other.Interactions                        : chr  NA NA NA NA ...
##  $ Lat.Long                                  : chr  &quot;POINT (-73.9561344937861 40.7940823884086)&quot; &quot;POINT (-73.9688574691102 40.7837825208444)&quot; &quot;POINT (-73.97428114848522 40.775533619083)&quot; &quot;POINT (-73.9596413903948 40.7903128889029)&quot; ...</code></pre>
<p>We’ll see a number of other things that we need to sort out before we
can do much with our data. For example, many of our variable of have not
been assigned to the appropriate data type. We have logical variables,
date variables etc not yet sorted. Let’s fix this.</p>
</div>
<div id="indexing-data-types" class="section level1">
<h1>Indexing &amp; Data Types</h1>
<p>To clean up our data set, we need to be able to target specifc
varibales and or specific values. We do this with indexing.</p>
<p>Data frames are comprised of rows and columns, and R accepts
arguments in this order, so if we want to see the intersection of the
first row and the first column, we would run</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>sq_data[<span class="dv">1</span>,<span class="dv">1</span>] <span class="co"># show the first row and first column of the data frame</span></span></code></pre></div>
<pre><code>## [1] -73.95613</code></pre>
<p>If we wanted to see the first 6 rows</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>sq_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">1</span>] <span class="co"># show the first six rows and first column of the data frame</span></span></code></pre></div>
<pre><code>## [1] -73.95613 -73.96886 -73.97428 -73.95964 -73.97027 -73.96836</code></pre>
<p>And if we wanted to see all the values of a specific variable, or
column</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>sq_data[ ,<span class="dv">1</span>]</span></code></pre></div>
<p>When working with a data frame, we can also use variable names</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>sq_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="st">&quot;Running&quot;</span>]</span></code></pre></div>
<p>And when we want every observation associated with a given
variable</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>sq_data<span class="sc">$</span>Running</span></code></pre></div>
<div id="changing-data-types" class="section level2">
<h2>Changing Data Types</h2>
<p>Now that we can target a variable, we can assign new properties to
that variable. R has a series of <code>as.</code> functions to allow us
to manipulate data types and classes. To view all <code>as.</code>
functions available to you</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apropos</span>(<span class="st">&quot;^as</span><span class="sc">\\</span><span class="st">.&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;as.array&quot;               &quot;as.array.default&quot;       &quot;as.call&quot;               
## [4] &quot;as.character&quot;           &quot;as.character.condition&quot; &quot;as.character.Date&quot;</code></pre>
<pre><code>## ...</code></pre>
<p>We can see in the list, that we have several useful <code>as.</code>
functions for our current data set, including <code>as.Date</code> and
<code>as.logical</code>. We’ll start with the latter.</p>
</div>
<div id="convert-a-single-variable" class="section level2">
<h2>Convert a single variable</h2>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>sq_data<span class="sc">$</span>Running <span class="ot">&lt;-</span> <span class="fu">as.logical</span>(sq_data<span class="sc">$</span>Running) <span class="co"># re-assign the variable Running from character to logical</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sq_data<span class="sc">$</span>Running) <span class="co"># view the results</span></span></code></pre></div>
<pre><code>##  logi [1:3023] FALSE FALSE FALSE FALSE FALSE FALSE ...</code></pre>
</div>
<div id="convert-multiple-variables" class="section level2">
<h2>Convert multiple variables</h2>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>variables_to_convert <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Running&quot;</span>, <span class="st">&quot;Chasing&quot;</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>sq_data[,variables_to_convert] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(sq_data[,variables_to_convert], as.logical)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sq_data<span class="sc">$</span>Chasing)</span></code></pre></div>
<pre><code>##  logi [1:3023] FALSE FALSE TRUE FALSE FALSE FALSE ...</code></pre>
<p>This is a steep introduction to vectorization in R.</p>
<p>Remember that a vector is just a simple list. Generally, when we do
one thing to something in a list it only impacts that one value – in
Excel we might double one value in a column, but this doesn’t double
every value in the column.</p>
<p>R is built from the ground up to apply changes to all values in a
list – known as vectorization. So, if we have a series of numbers – like
we created on earlier with <code>random_sample</code></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>random_sample</span></code></pre></div>
<pre><code>##  [1]  3 30 88 53 74 86 36 68 86 38 34 23 45 97 77 91 98 44 14 30</code></pre>
<p>And we want to convert every value, we apply the conversion to the
entire vector</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>(random_sample_doubled <span class="ot">&lt;-</span> random_sample <span class="sc">*</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  [1]   6  60 176 106 148 172  72 136 172  76  68  46  90 194 154 182 196  88  28
## [20]  60</code></pre>
<p>The <code>apply</code> family of functions does exactly the same
thing, but instead, in the case of <code>lapply</code>, taking in a
single object, like <code>random_sample</code>, it takes in a list of
objects – hence the <code>l</code> for <code>list apply</code> – and
applies a function to each object.</p>
<p>Reading out the above chunk of code then</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a character vector with the names of our variables</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>variables_to_convert <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Running&quot;</span>, <span class="st">&quot;Chasing&quot;</span>) </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="do">## create a list of variables - sq_data[, &quot;Running&quot;], sq_data[, &quot;Chasing&quot;] - that is fed</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="do">## into the lapply() function and apply the as.logical() function to each item</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>sq_data[,variables_to_convert] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(sq_data[,variables_to_convert], as.logical)</span></code></pre></div>
<p>Writing code in this way can be extremely helpful, starting with a
plain language write up and then translating each piece to actual
code:</p>
<ol style="list-style-type: decimal">
<li>write a list of variables we want to change to a variable</li>
<li>index the data frame with the above variable</li>
<li>apply a function to this index</li>
</ol>
<p>Writing it like this also allows you to articulate your problem in a
language that can be searched if you don’t know how to complete a
specific step.</p>
<div class="advanced">
<p>Without vectorization, you would need to specify how to iterate over
each value in an object. Sometimes you still need to do this in R, so it
might be handy to see how this works. Working with a plain language
summary and using our <code>random_sample</code>:</p>
<ol style="list-style-type: decimal">
<li>create an object to hold our output - call it
<code>random_sample_multi</code></li>
<li>start an iteration that begins at index point 1 -
<code>random_sample[1]</code> - and ends at the final index point of the
object we’re working with - <code>random_sample[20]</code>, remembering
that writing <code>random_sample[1]</code> will output the value held at
that index point and that we don’t need to know the final index point,
as we can calculate this with <code>length()</code>.</li>
<li>populate the object we created in step one with the multiple of 2 of
each value held in each index point of <code>random_sample</code></li>
<li>print out the result to confirm</li>
</ol>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>random_sample_multi <span class="ot">&lt;-</span> <span class="fu">vector</span>() <span class="co"># create an empty vector called random_sample_multi</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(random_sample)) { <span class="co"># iterate with a for loop starting with the number 1 and ending with the last index point in random sample, calculated here using length()</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  random_sample_multi[i] <span class="ot">&lt;-</span> random_sample[i] <span class="sc">*</span><span class="dv">2</span> <span class="co"># for each value at index point 1 through to length(random_sample), multiply that value by 2</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>random_sample_multi <span class="co"># print the result to verify</span></span></code></pre></div>
<pre><code>##  [1]   6  60 176 106 148 172  72 136 172  76  68  46  90 194 154 182 196  88  28
## [20]  60</code></pre>
</div>
<div class="exercise">
<p><code>read.csv</code> allows us to assign variable types on import.
Revisit the help documentation for <code>read.csv</code> and see if you
can update your import line –
<code>sq_data &lt;- read.csv('2018-cp_squirrel_census.csv', na.strings = c("", " ", "NA", "NULL", ".", "+"))</code>
– to also convert the columns ‘Running’, ‘Chasing’, and ‘Climbing’ to
logical on import.</p>
</div>
<div class="solution">
<div class="sourceCode" id="cb33"><pre
class="sourceCode r fold-hide"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>sq_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&#39;2018-cp_squirrel_census.csv&#39;</span>,</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">na.strings =</span> <span class="fu">c</span>(<span class="st">&quot;&quot;</span>, <span class="st">&quot; &quot;</span>, <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;NULL&quot;</span>, <span class="st">&quot;.&quot;</span>, <span class="st">&quot;+&quot;</span>),</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">colClasses =</span> <span class="fu">c</span>(<span class="st">&quot;Chasing&quot;</span> <span class="ot">=</span> <span class="st">&quot;logical&quot;</span>,</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">&quot;Running&quot;</span> <span class="ot">=</span> <span class="st">&quot;logical&quot;</span>,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">&quot;Climbing&quot;</span> <span class="ot">=</span> <span class="st">&quot;logical&quot;</span>)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>                    )</span></code></pre></div>
</div>
</div>
<div id="dates-factors" class="section level2">
<h2>Dates &amp; Factors</h2>
<p>In addition to logical variables, our data set also has categorical
data and date data. Categorical data in R is called factor data. We’ll
convert a single variable to factor to see how this behaves.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>sq_data<span class="sc">$</span>Age <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(sq_data<span class="sc">$</span>Age)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sq_data<span class="sc">$</span>Age)</span></code></pre></div>
<pre><code>##  Factor w/ 3 levels &quot;?&quot;,&quot;Adult&quot;,&quot;Juvenile&quot;: NA NA NA 2 2 2 2 2 2 2 ...</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(sq_data<span class="sc">$</span>Age)</span></code></pre></div>
<pre><code>## [1] &quot;?&quot;        &quot;Adult&quot;    &quot;Juvenile&quot;</code></pre>
<p>This process highlights that we have one additional string character
that should be converted to <code>NA</code> on import, <code>?</code>.
Calling <code>str</code> tells us that we have a factor with three
levels or categories. Calling <code>levels</code> lists those
categories.</p>
<p>Sometime the levels are not in the order we want them for ordinal
categorical data. We can re-assign these.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>sq_data<span class="sc">$</span>Age <span class="ot">&lt;-</span> <span class="fu">factor</span>(sq_data<span class="sc">$</span>Age, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Juvenile&quot;</span>, <span class="st">&quot;Adult&quot;</span>, <span class="st">&quot;?&quot;</span>))</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(sq_data<span class="sc">$</span>Age)</span></code></pre></div>
<pre><code>## [1] &quot;Juvenile&quot; &quot;Adult&quot;    &quot;?&quot;</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sq_data<span class="sc">$</span>Age)</span></code></pre></div>
<pre><code>##  Factor w/ 3 levels &quot;Juvenile&quot;,&quot;Adult&quot;,..: NA NA NA 2 2 2 2 2 2 2 ...</code></pre>
<div class="exercise">
<p>Using the help page for <code>as.Date</code>, convert the Date
variable, currently structured as <code>int</code> to a date class
variable.</p>
</div>
<div class="solution">
<p><code>as.Date</code> requires a character input, so we must first
convert our variable to a character format</p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode r fold-hide"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>sq_data<span class="sc">$</span>Date <span class="ot">&lt;-</span> <span class="fu">as.character</span>(sq_data<span class="sc">$</span>Date)</span></code></pre></div>
<p>Next, we need to specify to <code>as.Date</code> how our data is
structured - where the year, month, and date are articulated, and
whether the year is 4 digits or 2, and the months and days are
abbreviated.</p>
<div class="sourceCode" id="cb43"><pre
class="sourceCode r fold-hide"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>sq_data<span class="sc">$</span>Date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(sq_data<span class="sc">$</span>Date, <span class="st">&quot;%m%d%Y&quot;</span>)</span></code></pre></div>
</div>
</div>
</div>
<div id="importing-with-a-data-dictionary" class="section level1">
<h1>Importing with a Data Dictionary</h1>
<p>The value of having a data dictionary in advance will go a long ways
in facilitating this process.</p>
<p>A data dictionary generally describes key attributes about your data
- it will list your variables, provide a description of them, and
indicate the base type of data it is.</p>
<p>I have a very simple data dictionary for this project. Let’s load
that in</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>dict_src <span class="ot">&lt;-</span> <span class="st">&quot;https://raw.githubusercontent.com/csc-ubc-okanagan/R-for-beginners/main/files/_datadictionary.csv&quot;</span> <span class="co"># source of the file</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="at">url =</span> dict_src, <span class="at">destfile =</span> <span class="st">&#39;_datadictionary.csv&#39;</span>) <span class="co"># download and name the file</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>data_dict <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;_datadictionary.csv&quot;</span>) <span class="co"># read in the file</span></span></code></pre></div>
<p>We’ll now import our data in a slightly more efficient way</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>na_values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;&quot;</span> , <span class="st">&quot; &quot;</span>, <span class="st">&quot;.&quot;</span>, <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;NULL&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;+&quot;</span>) <span class="co"># a list of values to use for na.strings</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>data_types <span class="ot">&lt;-</span> data_dict<span class="sc">$</span>data.import.class <span class="co"># a list of data types to feed to colClass</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>sq_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;2018-cp_squirrel_census.csv&quot;</span>,</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">na.strings =</span> na_values,</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">colClasses =</span> data_types</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sq_data)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3023 obs. of  31 variables:
##  $ X                                         : num  -74 -74 -74 -74 -74 ...
##  $ Y                                         : num  40.8 40.8 40.8 40.8 40.8 ...
##  $ Unique.Squirrel.ID                        : chr  &quot;37F-PM-1014-03&quot; &quot;21B-AM-1019-04&quot; &quot;11B-PM-1014-08&quot; &quot;32E-PM-1017-14&quot; ...
##  $ Hectare                                   : chr  &quot;37F&quot; &quot;21B&quot; &quot;11B&quot; &quot;32E&quot; ...
##  $ Shift                                     : chr  &quot;PM&quot; &quot;AM&quot; &quot;PM&quot; &quot;PM&quot; ...
##  $ Date                                      : chr  &quot;10142018&quot; &quot;10192018&quot; &quot;10142018&quot; &quot;10172018&quot; ...
##  $ Hectare.Squirrel.Number                   : num  3 4 8 14 5 3 2 2 1 3 ...
##  $ Age                                       : Factor w/ 2 levels &quot;Adult&quot;,&quot;Juvenile&quot;: NA NA NA 1 1 1 1 1 1 1 ...
##  $ Primary.Fur.Color                         : Factor w/ 3 levels &quot;Black&quot;,&quot;Cinnamon&quot;,..: NA NA 3 3 3 2 3 3 3 3 ...
##  $ Highlight.Fur.Color                       : Factor w/ 10 levels &quot;Black&quot;,&quot;Black, Cinnamon&quot;,..: NA NA NA NA 5 10 NA NA NA 5 ...
##  $ Combination.of.Primary.and.Highlight.Color: Factor w/ 21 levels &quot;Black+&quot;,&quot;Black+Cinnamon&quot;,..: NA NA 14 14 19 13 14 14 14 19 ...
##  $ Color.notes                               : chr  NA NA NA &quot;Nothing selected as Primary. Gray selected as Highlights. Made executive adjustments.&quot; ...
##  $ Location                                  : Factor w/ 2 levels &quot;Above Ground&quot;,..: NA NA 1 NA 1 NA 2 2 2 1 ...
##  $ Above.Ground.Sighter.Measurement          : num  NA NA 10 NA NA NA 0 0 0 30 ...
##  $ Specific.Location                         : chr  NA NA NA NA ...
##  $ Running                                   : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Chasing                                   : logi  FALSE FALSE TRUE FALSE FALSE FALSE ...
##  $ Climbing                                  : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Eating                                    : logi  FALSE FALSE FALSE TRUE FALSE FALSE ...
##  $ Foraging                                  : logi  FALSE FALSE FALSE TRUE TRUE TRUE ...
##  $ Other.Activities                          : chr  NA NA NA NA ...
##  $ Kuks                                      : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Quaas                                     : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Moans                                     : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Tail.flags                                : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Tail.twitches                             : logi  FALSE FALSE FALSE FALSE FALSE TRUE ...
##  $ Approaches                                : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ Indifferent                               : logi  FALSE FALSE FALSE FALSE FALSE TRUE ...
##  $ Runs.from                                 : logi  FALSE FALSE FALSE TRUE FALSE FALSE ...
##  $ Other.Interactions                        : chr  NA NA NA NA ...
##  $ Lat.Long                                  : chr  &quot;POINT (-73.9561344937861 40.7940823884086)&quot; &quot;POINT (-73.9688574691102 40.7837825208444)&quot; &quot;POINT (-73.97428114848522 40.775533619083)&quot; &quot;POINT (-73.9596413903948 40.7903128889029)&quot; ...</code></pre>
<p>At this point, we’ve got a pretty clean imported data set. It’s
likely we’ll still find some issues with, but for now let’s save it as a
cleaned, version 0</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(sq_data, <span class="st">&quot;2018-cp_squirrel_census_cleaned_v0.csv&quot;</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div class="summary">
<p>On import, we can control many aspects of our data set, including
setting NA values and assigning datat types and classes. This work is
facilitated by being organized in advance. Creating a data dictionary
will help to facilitate this process.</p>
</div>
<div class="functions">
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>dir.create</code></td>
<td align="left">create a directory on your file system.</td>
</tr>
<tr class="even">
<td align="left"><code>setwd</code></td>
<td align="left">set the working directory. See also <code>getwd</code>
to get current working directory.</td>
</tr>
<tr class="odd">
<td align="left"><code>read.cs</code></td>
<td align="left">read a csv file into R.</td>
</tr>
<tr class="even">
<td align="left"><code>str</code></td>
<td align="left">display information about the data including structure,
types, and a few values.</td>
</tr>
<tr class="odd">
<td align="left"><code>View</code></td>
<td align="left">open the data set in a spreadsheet like viewer.</td>
</tr>
<tr class="even">
<td align="left"><code>apropos</code></td>
<td align="left">search for functions and variables.</td>
</tr>
<tr class="odd">
<td align="left"><code>as.</code></td>
<td align="left">a family of functions for converting data types and
structures.</td>
</tr>
<tr class="even">
<td align="left"><code>lapply</code></td>
<td align="left">apply a function to every item in a list.</td>
</tr>
<tr class="odd">
<td align="left"><code>levels</code></td>
<td align="left">print the categories and codes for categorical
data.</td>
</tr>
<tr class="even">
<td align="left"><code>write.csv</code></td>
<td align="left">export data from R to your file system in csv
format.</td>
</tr>
</tbody>
</table>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
